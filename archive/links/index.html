<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7,IE=edge"><meta name="viewport" content="width=device-width"><meta name="generator" content="DocPad v6.65.0" /><link  rel="stylesheet" href="/blog/style.css" /></head><body><div class="page"><h1 class="page-head">Архив клуба разработки интерфейсов</h1><div class="page-content"><header><h1>О вёрстке ссылок</h1><p>Опубликовано Thu Jul 24 2014 15:01:08 GMT+0400 (MSK). Автор: Роман Комаров.</p></header><p><img src="http://img-fotki.yandex.ru/get/4519/1076905.1/0_62fce_6830c8bc_orig" alt="Иллюстрация псевдоссылки с кавычками"></p>
<p>Что может быть сложного в вёрстке ссылок? На первый взгляд — ничего. Однако в сложных интерфейсах может существовать множество разновидностей ссылок, а вместе с ними и число мелочей, которые нужно учитывать:</p>
<ul>
<li>около ссылки может быть иконка с неизвестным размером, которую не нужно подчёркивать;</li>
<li>часто появляется необходимость в псевдоссылках, обычно подчёркнутых пунктиром;</li>
<li>бывает, что нужно расположить какие-либо символы рядом со ссылкой, но без подчёркивания: кавычки, стрелочки, различные другие дополнительные элементы.</li>
</ul>
<p>Кроме того, эти мелочи могут встречаться не только по отдельности, но и комбинироваться, образуя, например, псевдоссылку с иконкой.</p>
<p>Если не озаботиться тем, чтобы привести все ссылки к единому виду, то в итоге настанет день, когда в коде проекта окажутся десятки различных реализаций одного и того же, а также необоснованные и неудобные в дальнейшем применении «обходные пути».</p>
<p>На помощь приходит принцип БЭМ, на основе которого можно создать достаточно универсальный блок-ссылку, которую очень удобно использовать для решения большинства задач.</p>
<h2 id="-sup-sup-2-">Дополнительный элемент<a href="http://yandex-ui.github.com/Examples/links/"><sup>пример</sup></a></h2>
<p>У верстальщиков, растущих на статьях о семантике и веб-стандартах, иногда возникают довольно радикальные мысли о том, что любые лишние элементы «несемантичны» и «неправильны». Подобные утверждения в большинстве случаев не имеют под собой никакой основы и чаще могут только повредить в вёрстке сколько-либо сложных интерфейсов. </p>
<p>Сама тема развенчания мифа о «несемантичности» довольно обширная. Но в рамках рассказа о ссылках стоит лишь сказать, что добавление всего одного дополнительного элемента может очень благотворно сказаться на том, что в итоге можно будет сделать с блоком.</p>
<p>Представим, что у нас есть просто ссылка: <code>&lt;a class=&quot;b-link&quot;&gt;ссылка&lt;/a&gt;</code>. Возьмём ситуацию, когда надо добавить слева от неё иконку. Если просто вложить картинку (или инлайн-блок) в ссылку, то подчёркивание будет и под иконкой. А этого нам и нужно избежать. Чаще всего верстальщики решают эту задачу, добавляя слева соответствующий <code>padding</code>, а саму иконку позиционируя над ним. Такой подход нам не подходит:</p>
<ul>
<li>надо знать ширину иконки, а значит, решение уже не универсально;</li>
<li>если мы захотим добавить пунктирное подчёркивание, то оно из-за <code>padding</code> будет и под иконкой, а если заменить <code>padding</code> на <code>margin</code>, то между иконкой и ссылкой будет некликабельный промежуток, что тоже плохо.</li>
</ul>
<p>Ещё можно встретить подход, когда иконке задают <code>float: left</code>, а ссылку делают инлайн-блочной или ставят в контекст, в котором <code>float</code> ничего не будет ломать. Однако это тоже не универсально:</p>
<ul>
<li>нам нужна ссылка, которую можно вставить куда угодно, а не только в начало или конец блока (<code>float</code> налагает свои ограничения);</li>
<li>если применить к ссылке <code>inline-block</code>, то пунктирное подчёркивание будет под иконкой.</li>
</ul>
<p>Другие возможные решения, в большинстве своём, имеют схожие проблемы.</p>
<p>А решается всё просто: убираем подчёркивание у самой ссылки, а тот текст, который должен быть подчёркнут, обрамляем в элемент, к которому уже и будут применяться простое или пунктирное подчёркивание.</p>
<p>Для того чтобы осталась возможность использовать обычную ссылку без внутренних элементов, вынесем то, что у нас получается, в модификатор.</p>
<p>Добавив модификаторы и элемент, получим примерно такой HTML:</p>
<pre><code>&lt;a class=&quot;b-link b-link_type_wrapper b-link_mode_pseudo&quot; href=&quot;…&quot;&gt;
    &lt;img class=&quot;b-ico&quot; src=&quot;…&quot;/&gt;
    &lt;span class=&quot;b-link__inner&quot;&gt;ссылка&lt;/span&gt;
&lt;/a&gt;
</code></pre><p>Итоговый CSS будет таким (включая CSS для псевдоссылки):</p>
<pre><code>.b-link_type_wrapper {
    display: inline-block;

    text-decoration: none;
    }
    .b-link__inner {
        line-height: 1.1;

        display: inline-block;

        text-decoration: underline;
        }
    .b-link_type_wrapper .b-ico {
        margin-top: -2px;

        vertical-align: middle;
        }
#js .b-link_mode_pseudo,
#js .b-link_mode_pseudo .b-link__inner {
    text-decoration: none;
    border-bottom: 1px dashed;
    }
#js .b-link_mode_pseudo.b-link_type_wrapper {
    border-bottom: 0;
    }
</code></pre><p>Рассмотрим несколько моментов в этом коде:</p>
<ol>
<li><p>Для <code>.b-link_type_wrapper</code> и <code>.b-link__inner</code> мы прописали <code>display: inline-block</code>, так как в большинстве случаев нам будут нужны небольшие однострочные ссылки, в которых нам не хочется переносить иконку на новую строку. Инлайн-блочное поведение с этим помогает, а если возникнет необходимость сделать многострочную ссылку, то можно будет или добавить соответствующий модификатор, или, наоборот, сделать ссылки многострочными по умолчанию.</p>
</li>
<li><p><code>line-height: 1.1</code> к <code>.b-link__inner</code> был добавлен для того, чтобы расстояние от текста до пунктирного подчёркивания не зависело от межстрочного расстояния у родителей ссылки.</p>
</li>
<li><p>Отрицательный <code>margin-top</code> для иконки — небольшое улучшение позиционирования в строке (зависит от размера шрифта и <code>line-height</code>).</p>
</li>
<li><p>Селекторы, начинающиеся с <code>#js</code> — техника для определения того, работает ли яваскрипт на странице (подробнее можно почитать в начале <a href="http://subbotnik.yandex.st/css-framework/practice.html">презентации Виталия Харисова</a> с субботника 2009 года). На данный момент эта техника немного устарела, о том как это сейчас делается в рамках <a href="http://clubs.ya.ru/bem/replies.xml?item_no=901"><code>bem-bl</code></a> можно будет прочитать в ближайшеми будущем в <a href="http://clubs.ya.ru/bem/">клубе методологии БЭМ</a>.</p>
</li>
<li><p><code>.b-link_mode_pseudo.b-link_type_wrapper</code> — IE6, который неверно понимает подобные селекторы, уже постепенно отходит на покой, но даже в нём этот селектор будет применяться просто как для <code>.b-link_type_wrapper</code> — в большинстве случаев обнуление нижней границы для всех подобных ссылок не будет фатальным.</p>
</li>
</ol>
<p>Итак, имея подобный блок можно очень просто делать множество вещей, на некоторые из них можно посмотреть на <a href="http://yandex-ui.github.com/Examples/links/">странице с примерами</a>.</p>
<p>Помимо упомянутых выше, этот метод позволяет решить ещё ряд задач. Например, без дополнительного элемента (и пока <a href="http://dev.w3.org/csswg/css3-text/#text-decoration-style">спецификации text-decoration-style</a> из CSS3 не распространились) добавить <code>padding</code> к псевдоссылке практически невозможно.</p>
<p>Однако когда подчёркивание переносится на внутренний элемент, внешнему можно задавать практически любые свойства, поэтому наше подчёркивание всегда будет в порядке. И увеличить область клика теперь очень просто в том числе и для ссылок с иконками.</p>
<h2 id="-sup-sup-6-">Чересполосица многострочных ссылок<a href="http://yandex-ui.github.com/Examples/links/multiline/"><sup>пример</sup></a></h2>
<p>Второй вопрос, который хочется рассмотреть в этой статье, — эффект, который появляется у многострочных ссылок, когда у родителей стоит большой <code>line-height</code>.</p>
<p>В таких ситуациях, если ссылки не блочные, между строками текста ссылок возникают некликабельные пустые места, которые особенно видно, если у ссылок стоит агрессивный ховер (например, смена фона) — в таком случае, проводя курсором над ссылкой, мы получим «рябь». Ну, и попасть по нужной строчке становится труднее.</p>
<p>Решается это довольно просто: нужно соответствующей инлайновой ссылке добавить компенсирующий <code>padding</code> сверху и снизу, суммарно равный высоте <code>line-height</code> родителя ссылки минус дефолтный <code>line-height</code>, значение которого примерно равно <code>1.25</code>, плюс добавить ещё немного, чтобы гарантировать погрешности при изменении размера шрифта.</p>
<p>Так, при <code>line-height: 1.6</code> достаточно прописать ссылке <code>padding: 0.3em 0</code>  и проблема будет решена: площадь ссылки увеличится, а с ней — и удобство использования таких ссылок.</p>
<p>Ещё один метод увеличить кликабельную область многострочных ссылок — сделать их блочными, однако это не всегда возможно и не всегда поведение таких ссылок будет предсказуемым — могут появиться большие пустые кликабельные пространства.</p>
<p>Пример вёрстки многострочных ссылок с большим межстрочным интервалом можно посмотреть <a href="http://yandex-ui.github.com/Examples/links/multiline/">здесь</a>.</p>
</div></div><!-- Yandex.Metrika counter --><div style="display:none;"><script type="text/javascript">(function(w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter8530063 = new Ya.Metrika({id:8530063, enableAll: true}); } catch(e) { } }); })(window, "yandex_metrika_callbacks");</script></div><script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript" defer="defer"></script><noscript><div><img src="//mc.yandex.ru/watch/8530063" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></body></html>