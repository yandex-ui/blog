<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7,IE=edge"><meta name="viewport" content="width=device-width"><meta name="generator" content="DocPad v6.65.0" /><link  rel="stylesheet" href="/blog/style.css" /></head><body><div class="page"><h1 class="page-head">Архив клуба разработки интерфейсов</h1><div class="page-content"><header><h1>Нюансы позиционирования, часть первая</h1><p>Опубликовано Thu Jul 24 2014 15:02:34 GMT+0400 (MSK). Автор: Роман Комаров.</p></header><p>CSS-Свойство <code>position</code> должно быть знакомо всем: оно, со своими наиболее часто используемыми значениями <code>relative</code> и <code>absolute</code>, используется верстальщиками каждый день. Однако существует довольно много вещей, которые могут быть не очевидны из <a href="http://www.w3.org/TR/CSS2/visuren.html#absolute-positioning">спецификаций</a> или которые по тем или иным причинам используются редко. Это первая часть статьи: в ней мы рассмотрим базовые моменты позиционирования, а в следующий раз расскажем о более сложных понятиях.</p>
<h2 id="-">Основы</h2>
<p>У свойства <code>position</code> существует несколько значений, которые заметно отличаются друг от друга:</p>
<ul>
<li><p><code>position: relative</code> — относительное позиционирование; во-первых, оно создаёт контекст для последующего абсолютного позиционирования, во-вторых, в сочетании со свойством <code>z-index</code> оно создаёт стековый контекст. Подробнее про <code>z-index</code> будет рассказано в следующей статье.</p>
</li>
<li><p><code>position: absolute</code> — абсолютное позиционирование; делает всё то же, что и относительное, но если добавление относительного позиционирования не влияет на поток, то добавление абсолютного — вырывает блок из потока. При использовании свойств <code>left</code>, <code>top</code>, <code>bottom</code> или <code>left</code> блок с абсолютным позиционированием располагается относительно ближайшего блока с заданным контекстом позиционирования.</p>
</li>
<li><p><code>position: fixed</code> — фиксированное позиционирование; работает аналогично абсолютному, но контекстом позиционирования почти всегда будет viewport браузера.</p>
</li>
<li><p><code>position: static</code> — позиционирование по умолчанию; по сути, это отсутствие позиционирования, блок не создаёт ни контекст, ни подвергается влиянию свойств, которые работают при других значениях <code>position</code>.</p>
</li>
</ul>
<h2 id="top-bottom-right-left-sup-sup-3-">top, bottom, right и left <a href="http://yandex-ui.github.com/Examples/positioning/"><sup>пример</sup></a></h2>
<p>Главные свойства-спутники любого явно заданного позиционирования (так мы будем называть значение свойства <code>position</code>, отличное от <code>static</code>) — это <code>top</code>, <code>right</code>, <code>bottom</code> и <code>left</code>.</p>
<p>Для относительного позиционирования эти свойства задают смещение относительно изначального положения блока, то есть блок остаётся в потоке, продолжает занимать то же место, что и занимал до этого, но визуально смещается в зависимости от заданных свойств. Так, задание <code>left:10px</code> сместит блок на 10 пикселей правее.</p>
<p>При относительном позиционировании одновременно может работать только одно свойство из пар <code>top</code>/<code>bottom</code> и <code>left</code>/<code>right</code>. Если будут заданы оба свойства из этих пар, то будет применяться только первое, то есть приоритет всегда будет за <code>top</code> и <code>left</code>, при этом порядок свойств в правиле будет не важен, но если возникнет необходимость в новом правиле использовать, например, <code>top</code>, а не <code>bottom</code>, это можно будет сделать, задав для <code>top</code> значение <code>auto</code>.</p>
<p>Для абсолютного позиционирования эти четыре свойства работают совсем иначе — вместо смещения они задают соответствующую «границу» позиционирования, например, задание только <code>top:10px</code> расположит блок так, что его верхняя граница будет находиться в десяти пикселях от верхней границы ближайшего блока с заданным контекстом позиционирования.</p>
<p>А вот если у блока нет явно заданной ширины или высоты, то одновременное задание свойств из пар <code>top</code>/<code>bottom</code> и <code>left</code>/<code>right</code> «растянет» блок так, что его границы будут находиться на заданных значениях относительно блока с контекстом позиционирования.</p>
<p>Подобное поведение абсолютно позиционированных блоков работает везде, начиная с IE7. Если вы уже не поддерживаете шестую версию IE, то можно безбоязненно использовать это поведение — оно может быть довольно полезно во многих ситуациях, например, его удобно применять для раскладок «веб-приложений», копирующих интерфейс десктопных программ. <a href="http://yandex-ui.github.com/Examples/positioning/">Пример такой раскладки</a></p>
<h2 id="-sup-sup-4-">Контекст позиционирования <a href="http://yandex-ui.github.com/Examples/positioning/context/"><sup>пример</sup></a></h2>
<p>«Контекст позиционирования» необходим для того, чтобы понимать, относительно чего будут расположены абсолютно позиционируемые блоки.</p>
<h3 id="-">Отсутствие контекста позиционирования</h3>
<p>Если для блока с абсолютным позиционированием не задано ни одно из свойств пар <code>top</code>/<code>bottom</code> и <code>left</code>/<code>right</code>, то блок будет спозиционирован относительно того места, где он должен был быть в потоке, если бы он не был из него изъят. Так, если блок был cо строковым поведением (<code>display: inline</code>) и находился в строковом контексте, то он будет спозиционирован на той же строке, где он был бы, если бы не был вырван из потока. А если у этого блока было блочное поведение или же он располагался после блока с блочным поведением, то он будет находиться на новой строке.</p>
<p>Блок, спозиционированный таким образом, можно двигать при помощи свойства <code>margin</code>, например, задав <code>margin-top:-10px</code> блок будет спозиционирован на 10 пикселей выше того места, где он был бы, если бы не был вырван из потока.</p>
<h3 id="-">Позиционирование с контекстом</h3>
<p>Если же блок позиционируется с заданием какого-либо из свойств пар <code>top</code>/<code>bottom</code> и <code>left</code>/<code>right</code>, то он будет спозиционирован относительно ближайшего блока с контекстом позиционирования, который появляется при явно заданном позиционировании.</p>
<p>Тут важно заметить, что не для всех блоков может существовать контекст: например, для ячеек (и строк) таблицы нельзя задать контекст, то есть если возникнет желание позиционировать что-то внутри таблицы, то придётся добавлять для этого дополнительные элементы.</p>
<p>Кроме того, можно комбинировать позиционирование с контекстом и без. Например, если взять строчный элемент в потоке текста, то задав ему абсолютное позиционирование и свойство <code>left</code>, мы спозиционируем его по горизонтали относительно ближайшего контекста, однако по вертикали у него не будет контекста, и он будет расположен на той строке, где должен был быть расположен без позиционирования. </p>
<p>Пример различных вариантов блока, позиционируемого без задания явных границ позиционирования, можно посмотреть <a href="http://yandex-ui.github.com/Examples/positioning/context/">здесь</a>.</p>
<h2 id="-">Продолжение следует</h2>
<p>В этой статье мы рассмотрели основы позиционирования: возможные свойства и понятие контекста. В следующей статье мы затронем тему <code>z-index</code> и практического применения его отрицательных значений, свойство <code>clip</code>, а также различные особенности и ошибки браузеров при работе с позиционированием.</p>
<p>Кроме того, если у вас остались какие-либо вопросы по этой статье или пожелания по следующей — оставьте их в комментариях, будем рады ответить или разъяснить что-то дополнительно.</p>
</div></div><!-- Yandex.Metrika counter --><div style="display:none;"><script type="text/javascript">(function(w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter8530063 = new Ya.Metrika({id:8530063, enableAll: true}); } catch(e) { } }); })(window, "yandex_metrika_callbacks");</script></div><script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript" defer="defer"></script><noscript><div><img src="//mc.yandex.ru/watch/8530063" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></body></html>